import{L as f}from"./Loading-BTUmx1bW.js";import{u as A,d as p,f as g,c as e,l as t,o,m as c,t as h,a as k,_ as T}from"./index-C-G2ul6B.js";const C={key:0},K={key:1},V={key:2},q={key:3},P={__name:"TransactionsContainer",setup(w){let s=[{to:"AZ77VTBA00000000001234567890",from:"BY86AKBB10100000002966000000",amount:3.33},{to:"AZ77VTBA00000000001234567890",from:"BY86AKBB10100000002966000000",amount:4.44}];const u=A();function a(n){return new Promise(i=>setTimeout(i,n))}const{isLoading:m,isError:_,data:r,error:l}=p({queryKey:["transactions"],queryFn:async()=>(await a(500),s)}),{mutate:d,isPending:B}=g({mutationFn:async n=>{console.log("sending transaction to the API:",n),await a(1e3),s=[...s,n]},onSuccess:()=>{u.invalidateQueries({queryKey:["transactions"]})}});function y(){d({to:"AZ77VTBA00000000001234567890",from:"BY86AKBB10100000002966000000",amount:5.55})}return(n,i)=>t(m)||t(B)?(o(),e("span",C,[c(f)])):t(_)?(o(),e("span",K,"Error: "+h(t(l).message),1)):t(r).length?(o(),e("ul",V,[c(T,{transactions:t(r)},null,8,["transactions"]),k("button",{onClick:y},"Add Transaction")])):(o(),e("div",q,"There are no transactions!"))}};export{P as default};
